---
layout: post
title: 横屏模式 · Landscape mode
tags: ObjC
categories: Dev
---

#### Question ####

How to play video in landscape mode in fullscreen when application is lock in portrait mode. 


#### Solution ####

1. Check Device Orientation to `Portrait`, `Landscape left`, `Landscape right` in your project target

2. Do the below code in `AppDelegate`

{% highlight objc %}
-(NSUInteger)application:(UIApplication *)application supportedInterfaceOrientationsForWindow:(UIWindow *)window{

    UIStoryboard *mainStoryboard = [UIStoryboard storyboardWithName:@"Main" bundle: nil];

    ViewControllerThatPlaysVideo *currentViewController = ViewControllerThatPlaysVideo*)[mainStoryboard instantiateViewControllerWithIdentifier:@"postDetailView"];
    
    if(navigationController.visibleViewController isKindOfClass: [ViewControllerThatPlaysVideo class]]){
       if([currentViewController playerState])
            return UIInterfaceOrientationMaskLandscape|UIInterfaceOrientationMaskPortrait;
       return UIInterfaceOrientationMaskPortrait;
    }
    
    return UIInterfaceOrientationMaskPortrait;

}
{% endhighlight %}
