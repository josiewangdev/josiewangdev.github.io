---
layout: post
title: 从字符串中提取URL · Extract an URL from a string
tags: iOS
categories: Dev
description: Extract an URL using NSDataDetector
---

Use `NSDataDetector` to extract a URL from the whole string.

使用 `NSDataDetector` 从一个包含URL的字符串中将URL提取出来。

---

{% highlight objc %}

NSString *string = @"This is a sample of a http://abc.com/efg.php?abcdefg"; 
NSDataDetector *linkDetector = [NSDataDetector dataDetectorWithTypes:NSTextCheckingTypeLink error:nil]; 
NSArray *matches = [linkDetector matchesInString:string options:0 range:NSMakeRange(0, [string length])];

for (NSTextCheckingResult *match in matches) {
  if ([match resultType] == NSTextCheckingTypeLink) {
    NSString *matchingString = [match description];
    NSLog(@"found URL: %@", matchingString);
  }
}

{% endhighlight %}
